trigger: none

variables:
- group: Alejo-test-sonar
- name: sonarProperties
  value: |
    sonar.c.file.suffixes=-
    sonar.cpp.file.suffixes=-
    sonar.objc.file.suffixes=-

- name: sonarPropertiesReplace
  value: ${{ replace('sonarPropertiesLibrary2', ',' , '\n') }}

stages:
- stage: stage
  displayName: stage
  jobs:
  - job: 'job'
    pool:
      vmImage: ubuntu-latest
    steps:

    - script: echo $(sonarPropertiesReplace)

    - task: SonarCloudPrepare@1
      inputs:
        SonarCloud: 'sonarcloud-Alejandro'
        organization: 'quind'
        scannerMode: 'Other'
        extraProperties: |
            $(sonarProperties)

    - task: SonarCloudPrepare@1
      inputs:
        SonarCloud: 'sonarcloud-Alejandro'
        organization: 'quind'
        scannerMode: 'Other'
        extraProperties: |
            $(sonarPropertiesLibrary)