static_resources:
  listeners:
  - address:
      socket_address:
        address: 0.0.0.0
        port_value: 8080
    filter_chains:
    - filters:
      - name: envoy.filters.network.http_connection_manager
        typed_config:
          "@type": type.googleapis.com/envoy.extensions.filters.network.http_connection_manager.v3.HttpConnectionManager
          codec_type: auto
          stat_prefix: ingress_http
          access_log:
          - name: envoy.access_loggers.file
            typed_config:
              "@type": type.googleapis.com/envoy.extensions.access_loggers.file.v3.FileAccessLog
              path: /dev/stdout
          route_config:
            name: local_route
            virtual_hosts:
            - name: backend
              domains:
              - "*"
              cors:
                allow_origin_string_match:
                - safe_regex:
                    google_re2: {}
                    regex: \*
                allow_methods: "GET, PUT, DELETE, POST, PATCH, OPTIONS"
                allow_headers: "upgrade-insecure-requests, sec-gpc, sec-fetch-site, sec-fetch-mode, sec-fetch-dest, sec-ch-ua, sec-ch-ua-mobile, sec-ch-ua-platform ,x-requestid, pagination, prf, pragma, path, authority, method, accept-language, accept-encoding, accept,   authorization, keep-alive, user-agent, cache-control, content-type, content-transfer-encoding, x-accept-content-transfer-encoding, x-accept-response-streaming, x-user-agent, referer"
              routes:
              - match:
                  prefix: "//"
                route:
                  timeout: "//"
                  prefix_rewrite: "//"
                  cluster: test
              - match:
                  prefix: "//"
                route:
                  timeout: "//"
                  prefix_rewrite: "//"
                  cluster: test
              - match:
                  prefix: "/apikw/logisticdelivery/"
                route:
                  timeout: "60s"
                  prefix_rewrite: "/"
                  cluster: logistic-delivery-web
              - match:
                  prefix: "/apikw/portalfacturacion/"
                route:
                  timeout: "60s"
                  prefix_rewrite: "/"
                  cluster: invoice-portal-web-mfe
              - match:
                  prefix: "/apikw/autorizador/"
                route:
                  timeout: "60s"
                  prefix_rewrite: "/"
                  cluster: genesis-autorizador-api
              