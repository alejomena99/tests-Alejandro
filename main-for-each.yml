trigger: none

parameters:

- name: installOks
  displayName: 'Install Front on OKS'
  type: boolean

- name: installAks
  displayName: 'Install Front on AKS'
  type: boolean

- name: installAks2
  displayName: 'Install on AKS 2'
  type: boolean

- name: installOke
  displayName: 'Install on OKE'
  type: boolean


- name: myStep
  type: step
  default:
    script: echo my step

variables:
- name: installCluster
  value: |
    - True
    - OKS_${{ parameters.installOks }}
    - AKS_${{ parameters.installAks }}
    - AKS2_${{ parameters.installAks2 }}
    - OKE_${{ parameters.installOke }}

jobs:
# - template: Test/main-test.yml
#   parameters:
#     branchOptions: 
#       - ${{ parameters.installOks }}
#       - ${{ parameters.installAks }}

- job: A1 
  steps:
  - ${{ each value in split(variables.installCluster, '-')}}:
    - ${{ if and(contains('OKS_True', 'True'), ne(value, '') ) }}:
      - script: echo ${{ value }}

  - ${{ parameters.myStep }}